/*! express_router_lecture_gamma 2015-08-07 */
function updateDom(a){var b=$("#data-container");b.empty(),$.each(a,function(a,c){b.append("<p>"+(a+1)+": "+c.name+" - "+c.message+"</p>"),b.children().last().append("<button id="+c._id+">DELETE</button>")})}function getData(){$.ajax({type:"GET",url:"/things",success:function(a){updateDom(a)}})}$(document).ready(function(){$("#inputForm").submit(function(a){a.preventDefault();var b=$("#inputForm").serialize();console.log(b),$.ajax({type:"POST",url:"/things",data:b,success:function(a){getData(),console.log(a)}})}),$("#data-container").on("click","button",function(){$.ajax({type:"DELETE",url:"/things/"+$(this).attr("id"),success:function(){console.log("He's dead Jim!"),getData()},error:function(a,b){alert("ERROR",b)},complete:function(){console.log("delete done")}}),$(this).parent().remove()}),getData()});