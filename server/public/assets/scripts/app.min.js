/*! supergrossjavascript 2015-08-06 */
function shuffle(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}var modAdjArray=[],nounArray=[],adjArray=[],successfulCalls=0,queryNouns=function(){$.ajax({url:"/data/nouns",async:!0,type:"GET",dataType:"json",success:function(a){successHandler(),nounArray=a}})},queryModAdj=function(){$.ajax({url:"/data/modadj",async:!0,type:"GET",dataType:"json",success:function(a){successHandler(),modAdjArray=a}})},queryAdj=function(){$.ajax({url:"/data/adj",async:!0,type:"GET",dataType:"json",success:function(a){successHandler(),adjArray=a}})},successHandler=function(){successfulCalls++,successfulCalls>=3&&($("#loading").remove(),$("body").append('<button id="create-adlib" >Create Adlib</button>'))},shuffleArrays=function(){adjArray=shuffle(adjArray),nounArray=shuffle(nounArray),modAdjArray=shuffle(modAdjArray)},createAdlib=function(){return modAdjArray[0]+" "+adjArray[0]+" "+nounArray[0]};$(document).ready(function(){$("body").last().append("<div id='loading'>Loading....</div>"),queryAdj(),queryModAdj(),queryNouns(),$("body").on("click","#create-adlib",function(){$("#container").remove(),shuffleArrays(),$("body").last().append("<div id='container'>"+createAdlib()+"</div>")})});