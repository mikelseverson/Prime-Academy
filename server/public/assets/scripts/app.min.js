/*! group-generator 2015-08-04 */
var studentList=[];Array.prototype.shuffle=function(){for(var a=this,b=a.length-1;b>=0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[c];a[c]=a[b],a[b]=d}return a};var getStudents=function(){$.ajax({url:"/data",success:function(a){$.each(a,function(a,b){studentList.push(b)}),createMenu()}})},createMenu=function(){for(var a=2;a<=studentList.length/2;a++)$("select").append("<option value="+a+">"+a+"</option>")},createGroups=function(a){$(".group-container").empty();for(var b=1;a>=b;b++)$(".group-container").append("<div class='group' id='group"+b+"'></div>"),$("#group"+b).append("<h1>Group "+b+"</h1>");var c=1;for(b=0;b<studentList.length;b++)c>a&&(c=1),$("#group"+c).append("<p class='student' id='student"+b+"'>"+studentList[b]+"</p>"),$("#student"+b).fadeIn(150*b),c++};$(document).ready(function(){getStudents(),$(".create-groups").on("click",function(){studentList.shuffle(),createGroups($("select option:selected").text())})});